ADIS SCHEMA REFERENCE

VERSION 1.0

OVERVIEW

This document provides complete technical specifications for all Dataverse tables supporting the Audience Data Intelligence System. Developers and administrators must reference this document when extending or troubleshooting the ADIS infrastructure.

TABLE MPA_UPLOAD_JOB

PURPOSE

Tracks file upload processing jobs from initiation through completion or failure.

PRIMARY KEY

mpa_upload_job_id as uniqueidentifier

COLUMNS

mpa_upload_job_id
- Type uniqueidentifier
- Required true
- Description Primary key for upload job record

mpa_job_name
- Type string
- Max Length 200
- Required true
- Description Human-readable job identifier typically auto-generated with timestamp

mpa_file_name
- Type string
- Max Length 500
- Required true
- Description Original filename as uploaded by user

mpa_file_type
- Type picklist
- Required true
- Options XLSX value 100000000 and XLS value 100000001 and CSV value 100000002 and DOCX value 100000003 and PDF value 100000004 and PPTX value 100000005
- Description Detected file format

mpa_file_size_bytes
- Type whole number
- Min Value 0
- Max Value 268435456
- Description File size in bytes with maximum of 256 megabytes

mpa_upload_timestamp
- Type datetime
- Required true
- Description UTC timestamp when upload initiated

mpa_processing_status
- Type picklist
- Required true
- Default 100000000
- Options Pending value 100000000 and Processing value 100000001 and Completed value 100000002 and Failed value 100000003 and Partial value 100000004
- Description Current processing state

mpa_row_count
- Type whole number
- Min Value 0
- Description Total data rows detected across all sheets

mpa_column_count
- Type whole number
- Min Value 0
- Description Total columns detected across all sheets

mpa_error_message
- Type memo
- Max Length 10000
- Description Error details when processing fails

mpa_source_description
- Type memo
- Max Length 2000
- Description User-provided description of data source

mpa_data_category
- Type picklist
- Options Transaction value 100000000 and Engagement value 100000001 and Loyalty value 100000002 and CRM value 100000003 and Survey value 100000004 and Mixed value 100000005 and Unknown value 100000006
- Description Classification of data content type

RELATIONSHIPS

Many to one relationship with mpa_session via mpa_session_id lookup column.

TABLE MPA_DATA_SCHEMA

PURPOSE

Stores detected schema information for each column in uploaded data files.

PRIMARY KEY

mpa_schema_id as uniqueidentifier

COLUMNS

mpa_schema_id
- Type uniqueidentifier
- Required true
- Description Primary key for schema record

mpa_column_name
- Type string
- Max Length 200
- Required true
- Description Original column name from source file

mpa_column_index
- Type whole number
- Min Value 0
- Description Zero-based column position in source

mpa_detected_type
- Type picklist
- Required true
- Options CUSTOMER_ID value 100000000 and TRANSACTION_ID value 100000001 and EMAIL value 100000002 and PHONE value 100000003 and DATE value 100000004 and CURRENCY value 100000005 and CATEGORY value 100000006 and NUMERIC value 100000007 and TEXT value 100000008 and BOOLEAN value 100000009 and ENGAGEMENT_SCORE value 100000010 and LOYALTY_TIER value 100000011 and LOCATION value 100000012
- Description Inferred semantic type

mpa_confidence_score
- Type decimal
- Precision 4
- Min Value 0
- Max Value 1
- Description Detection confidence from 0 to 1

mpa_sample_values
- Type memo
- Max Length 2000
- Description Representative values for preview

mpa_null_percentage
- Type decimal
- Precision 4
- Min Value 0
- Max Value 100
- Description Percentage of null or empty values

mpa_unique_count
- Type whole number
- Min Value 0
- Description Count of distinct values

mpa_semantic_role
- Type picklist
- Options Primary Key value 100000000 and Foreign Key value 100000001 and Measure value 100000002 and Dimension value 100000003 and Timestamp value 100000004 and Identifier value 100000005 and Attribute value 100000006
- Description Analytical role classification

mpa_use_for_rfm
- Type boolean
- Default false
- Description Flag indicating RFM relevance

mpa_rfm_role
- Type picklist
- Options None value 100000000 and Recency Date value 100000001 and Frequency Count value 100000002 and Monetary Value value 100000003 and Customer Key value 100000004
- Description Specific RFM dimension assignment

RELATIONSHIPS

Many to one relationship with mpa_upload_job via mpa_upload_job_id lookup column.

TABLE MPA_CUSTOMER_RECORD

PURPOSE

Stores normalized customer data extracted from uploads for analysis.

PRIMARY KEY

mpa_record_id as uniqueidentifier

COLUMNS

mpa_record_id
- Type uniqueidentifier
- Required true
- Description Primary key for record

mpa_customer_key
- Type string
- Max Length 100
- Required true
- Indexed true
- Description Unique customer identifier from source

mpa_customer_key_hash
- Type string
- Max Length 64
- Description SHA-256 hash for PII protection in sensitive environments

mpa_record_data
- Type memo
- Max Length 100000
- Description JSON blob containing all record attributes

mpa_source_row_number
- Type whole number
- Min Value 1
- Description Original row position in source file

mpa_first_transaction_date
- Type datetime
- Description Earliest transaction date for customer

mpa_last_transaction_date
- Type datetime
- Description Most recent transaction date for customer

mpa_transaction_count
- Type whole number
- Min Value 0
- Description Total transaction count for customer

mpa_total_monetary_value
- Type money
- Description Aggregated monetary value for customer

mpa_avg_transaction_value
- Type money
- Description Mean transaction amount for customer

RELATIONSHIPS

Many to one relationship with mpa_upload_job via mpa_upload_job_id lookup column.

TABLE MPA_MODEL_RUN

PURPOSE

Tracks analytical model execution including parameters results and metrics.

PRIMARY KEY

mpa_model_run_id as uniqueidentifier

COLUMNS

mpa_model_run_id
- Type uniqueidentifier
- Required true
- Description Primary key for model run

mpa_run_name
- Type string
- Max Length 200
- Required true
- Description Human-readable run identifier

mpa_model_type
- Type picklist
- Required true
- Options RFM value 100000000 and DECILE value 100000001 and COHORT value 100000002 and CLV_DETERMINISTIC value 100000003 and CLV_BGNBD value 100000004 and CLV_PARETONBD value 100000005 and CLUSTERING_KMEANS value 100000006 and CLUSTERING_DBSCAN value 100000007 and PROPENSITY value 100000008 and UPLIFT value 100000009 and CHURN value 100000010 and LOOKALIKE value 100000011 and CUSTOM value 100000012
- Description Analysis model executed

mpa_run_timestamp
- Type datetime
- Required true
- Description UTC timestamp when run initiated

mpa_parameters
- Type memo
- Max Length 50000
- Description JSON blob of model parameters

mpa_status
- Type picklist
- Required true
- Default 100000000
- Options Queued value 100000000 and Running value 100000001 and Completed value 100000002 and Failed value 100000003 and Cancelled value 100000004
- Description Current execution state

mpa_duration_seconds
- Type whole number
- Min Value 0
- Description Execution time in seconds

mpa_records_processed
- Type whole number
- Min Value 0
- Description Count of records analyzed

mpa_segments_created
- Type whole number
- Min Value 0
- Description Count of distinct segments produced

mpa_error_message
- Type memo
- Max Length 10000
- Description Error details when execution fails

mpa_model_metrics
- Type memo
- Max Length 50000
- Description JSON blob of model quality metrics

RELATIONSHIPS

Many to one relationship with mpa_upload_job via mpa_upload_job_id lookup column.
Many to one relationship with mpa_session via mpa_session_id lookup column.

TABLE MPA_MODEL_OUTPUT

PURPOSE

Stores per-customer results from analytical models.

PRIMARY KEY

mpa_output_id as uniqueidentifier

COLUMNS

mpa_output_id
- Type uniqueidentifier
- Required true
- Description Primary key for output record

mpa_customer_key
- Type string
- Max Length 100
- Required true
- Indexed true
- Description Customer identifier matching source data

mpa_segment_code
- Type string
- Max Length 50
- Description Short code for segment assignment

mpa_segment_name
- Type string
- Max Length 200
- Description Human-readable segment name

mpa_score_primary
- Type decimal
- Precision 6
- Description Primary scoring metric varies by model

mpa_score_r
- Type whole number
- Min Value 1
- Max Value 5
- Description Recency score for RFM models

mpa_score_f
- Type whole number
- Min Value 1
- Max Value 5
- Description Frequency score for RFM models

mpa_score_m
- Type whole number
- Min Value 1
- Max Value 5
- Description Monetary score for RFM models

mpa_rfm_combined
- Type string
- Max Length 10
- Description Combined RFM score such as 555

mpa_predicted_ltv
- Type money
- Description Projected customer lifetime value

mpa_predicted_ltv_lower
- Type money
- Description Lower bound of LTV prediction interval

mpa_predicted_ltv_upper
- Type money
- Description Upper bound of LTV prediction interval

mpa_cluster_id
- Type whole number
- Description Assigned cluster for clustering models

mpa_cluster_distance
- Type decimal
- Precision 6
- Description Distance to cluster centroid

mpa_propensity_score
- Type decimal
- Precision 6
- Min Value 0
- Max Value 1
- Description Predicted probability for propensity models

mpa_uplift_score
- Type decimal
- Precision 6
- Description Estimated treatment effect for uplift models

mpa_churn_probability
- Type decimal
- Precision 4
- Min Value 0
- Max Value 1
- Description Predicted churn likelihood

mpa_decile
- Type whole number
- Min Value 1
- Max Value 10
- Description Decile assignment for value ranking

mpa_percentile
- Type whole number
- Min Value 1
- Max Value 100
- Description Percentile ranking within population

RELATIONSHIPS

Many to one relationship with mpa_model_run via mpa_model_run_id lookup column.
Many to one relationship with mpa_customer_record via mpa_record_id lookup column.

TABLE MPA_AUDIENCE

PURPOSE

Defines named audience segments for targeting and campaign planning.

PRIMARY KEY

mpa_audience_id as uniqueidentifier

COLUMNS

mpa_audience_id
- Type uniqueidentifier
- Required true
- Description Primary key for audience

mpa_audience_name
- Type string
- Max Length 200
- Required true
- Description Human-readable audience name

mpa_description
- Type memo
- Max Length 4000
- Description Detailed audience description and use case

mpa_created_date
- Type datetime
- Required true
- Description UTC timestamp of audience creation

mpa_status
- Type picklist
- Required true
- Default 100000000
- Options Draft value 100000000 and Active value 100000001 and Archived value 100000002 and Expired value 100000003
- Description Current audience lifecycle state

mpa_member_count
- Type whole number
- Min Value 0
- Description Count of customers in audience

mpa_total_value
- Type money
- Description Aggregate value of audience members

mpa_avg_ltv
- Type money
- Description Mean lifetime value of audience members

mpa_version
- Type whole number
- Min Value 1
- Default 1
- Description Version number for tracking updates

mpa_audience_type
- Type picklist
- Options RFM Segment value 100000000 and Value Tier value 100000001 and Behavioral Cluster value 100000002 and Propensity Based value 100000003 and Lifecycle Stage value 100000004 and Custom Rule value 100000005 and Lookalike value 100000006
- Description Classification of audience origin

mpa_recommended_channels
- Type memo
- Max Length 2000
- Description JSON array of suggested media channels

mpa_recommended_use_cases
- Type memo
- Max Length 4000
- Description JSON array of suggested campaign types

mpa_platform_ids
- Type memo
- Max Length 10000
- Description JSON map of platform-specific audience identifiers after export

RELATIONSHIPS

Many to one relationship with mpa_model_run via mpa_model_run_id lookup column.
Many to one relationship with mpa_session via mpa_session_id lookup column.

TABLE MPA_AUDIENCE_RULE

PURPOSE

Defines filtering rules for audience membership criteria.

PRIMARY KEY

mpa_rule_id as uniqueidentifier

COLUMNS

mpa_rule_id
- Type uniqueidentifier
- Required true
- Description Primary key for rule

mpa_rule_name
- Type string
- Max Length 200
- Description Optional descriptive rule name

mpa_rule_sequence
- Type whole number
- Min Value 1
- Required true
- Description Order of rule application

mpa_field_name
- Type string
- Max Length 100
- Required true
- Description Target field for filtering

mpa_operator
- Type picklist
- Required true
- Options EQUALS value 100000000 and NOT_EQUALS value 100000001 and GREATER_THAN value 100000002 and GREATER_THAN_OR_EQUAL value 100000003 and LESS_THAN value 100000004 and LESS_THAN_OR_EQUAL value 100000005 and IN value 100000006 and NOT_IN value 100000007 and BETWEEN value 100000008 and CONTAINS value 100000009 and STARTS_WITH value 100000010 and IS_NULL value 100000011 and IS_NOT_NULL value 100000012
- Description Comparison operator

mpa_value
- Type string
- Max Length 1000
- Description Comparison value for simple operators

mpa_value_list
- Type memo
- Max Length 10000
- Description JSON array for IN and NOT_IN operators

mpa_logic_connector
- Type picklist
- Default 100000000
- Options AND value 100000000 and OR value 100000001
- Description Logical connection to next rule

mpa_group_id
- Type whole number
- Description Group identifier for parenthetical grouping

RELATIONSHIPS

Many to one relationship with mpa_audience via mpa_audience_id lookup column.

TABLE MPA_AUDIENCE_MEMBER

PURPOSE

Maps individual customers to audience memberships.

PRIMARY KEY

mpa_member_id as uniqueidentifier

COLUMNS

mpa_member_id
- Type uniqueidentifier
- Required true
- Description Primary key for membership record

mpa_customer_key
- Type string
- Max Length 100
- Required true
- Indexed true
- Description Customer identifier

mpa_inclusion_date
- Type datetime
- Required true
- Description UTC timestamp when member added to audience

mpa_exclusion_date
- Type datetime
- Description UTC timestamp when member removed from audience

mpa_is_active
- Type boolean
- Default true
- Description Current membership status

mpa_member_value
- Type money
- Description Customer value at time of inclusion

mpa_member_score
- Type decimal
- Precision 6
- Description Priority or propensity score at inclusion

RELATIONSHIPS

Many to one relationship with mpa_audience via mpa_audience_id lookup column.
Many to one relationship with mpa_customer_record via mpa_record_id lookup column.

TABLE MPA_CAMPAIGN_AUDIENCE

PURPOSE

Links audiences to media plan campaigns with allocation details.

PRIMARY KEY

mpa_campaign_audience_id as uniqueidentifier

COLUMNS

mpa_campaign_audience_id
- Type uniqueidentifier
- Required true
- Description Primary key for linkage

mpa_linkage_name
- Type string
- Max Length 200
- Description Human-readable linkage identifier

mpa_allocation_percentage
- Type decimal
- Precision 4
- Min Value 0
- Max Value 100
- Description Percentage of budget allocated to this audience

mpa_allocated_budget
- Type money
- Description Monetary budget allocated to audience

mpa_expected_reach
- Type whole number
- Description Projected unique customer reach

mpa_expected_conversions
- Type whole number
- Description Projected conversion count

mpa_expected_roi
- Type decimal
- Precision 4
- Description Projected return on investment percentage

mpa_channel_allocation
- Type memo
- Max Length 20000
- Description JSON map of channel to budget allocation

mpa_ammo_recommendation
- Type memo
- Max Length 50000
- Description Full AMMO optimization output JSON

RELATIONSHIPS

Many to one relationship with mpa_session via mpa_session_id lookup column.
Many to one relationship with mpa_audience via mpa_audience_id lookup column.

TABLE MPA_PERFORMANCE_LINKAGE

PURPOSE

Tracks actual campaign performance by audience for attribution.

PRIMARY KEY

mpa_linkage_id as uniqueidentifier

COLUMNS

mpa_linkage_id
- Type uniqueidentifier
- Required true
- Description Primary key for performance record

mpa_linkage_name
- Type string
- Max Length 200
- Description Human-readable linkage identifier

mpa_channel
- Type string
- Max Length 100
- Description Media channel name

mpa_platform
- Type string
- Max Length 100
- Description Specific platform within channel

mpa_measurement_date
- Type datetime
- Required true
- Description Date of performance measurement

mpa_actual_spend
- Type money
- Description Actual media spend

mpa_actual_impressions
- Type whole number
- Description Delivered impressions

mpa_actual_clicks
- Type whole number
- Description Recorded clicks

mpa_actual_conversions
- Type whole number
- Description Attributed conversions

mpa_actual_revenue
- Type money
- Description Attributed revenue

mpa_actual_cpm
- Type money
- Description Calculated cost per thousand impressions

mpa_actual_cpc
- Type money
- Description Calculated cost per click

mpa_actual_cpa
- Type money
- Description Calculated cost per acquisition

mpa_actual_roas
- Type decimal
- Precision 4
- Description Calculated return on ad spend

mpa_vs_expected_variance
- Type decimal
- Precision 4
- Description Percentage variance from expected performance

mpa_raw_data
- Type memo
- Max Length 100000
- Description Full JSON of imported performance data

RELATIONSHIPS

Many to one relationship with mpa_campaign_audience via mpa_campaign_audience_id lookup column.

TABLE MPA_MODEL_CATALOG

PURPOSE

Reference table of available analysis models with configuration.

PRIMARY KEY

mpa_catalog_id as uniqueidentifier

COLUMNS

mpa_catalog_id
- Type uniqueidentifier
- Required true
- Description Primary key for catalog entry

mpa_model_name
- Type string
- Max Length 100
- Required true
- Description Model display name

mpa_model_category
- Type picklist
- Options Segmentation value 100000000 and Customer Value value 100000001 and Propensity value 100000002 and Clustering value 100000003 and Uplift value 100000004 and Forecasting value 100000005 and Attribution value 100000006
- Description Model category classification

mpa_description
- Type memo
- Max Length 4000
- Description Detailed model description

mpa_required_columns
- Type memo
- Max Length 2000
- Description JSON array of required input columns

mpa_optional_columns
- Type memo
- Max Length 2000
- Description JSON array of optional input columns

mpa_output_columns
- Type memo
- Max Length 2000
- Description JSON array of output columns produced

mpa_min_records
- Type whole number
- Description Minimum dataset size requirement

mpa_python_library
- Type string
- Max Length 100
- Description Required Python library name

mpa_function_endpoint
- Type string
- Max Length 500
- Description Azure Function URL for model execution

mpa_is_active
- Type boolean
- Default true
- Description Whether model is available for use

mpa_mastercard_approved
- Type boolean
- Default false
- Description Whether model is approved for Mastercard environment
