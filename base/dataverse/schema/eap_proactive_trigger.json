{
  "schemaName": "eap_proactive_trigger",
  "displayName": "Proactive Trigger",
  "pluralName": "Proactive Triggers",
  "description": "Definitions for proactive intelligence triggers",
  "primaryColumn": "trigger_name",
  "columns": [
    {
      "schemaName": "eap_proactive_triggerid",
      "displayName": "Proactive Trigger ID",
      "type": "Uniqueidentifier",
      "required": true,
      "isPrimaryKey": true
    },
    {
      "schemaName": "trigger_code",
      "displayName": "Trigger Code",
      "type": "Text",
      "maxLength": 50,
      "required": true,
      "description": "Unique trigger identifier"
    },
    {
      "schemaName": "trigger_name",
      "displayName": "Trigger Name",
      "type": "Text",
      "maxLength": 100,
      "required": true,
      "description": "Display name"
    },
    {
      "schemaName": "description",
      "displayName": "Description",
      "type": "MultilineText",
      "maxLength": 500,
      "required": false,
      "description": "What this trigger does"
    },
    {
      "schemaName": "agent_code",
      "displayName": "Agent Code",
      "type": "Text",
      "maxLength": 10,
      "required": true,
      "description": "Which agent owns trigger"
    },
    {
      "schemaName": "trigger_category",
      "displayName": "Trigger Category",
      "type": "Choice",
      "required": true,
      "options": ["alert", "opportunity", "recommendation", "warning"],
      "description": "Type of trigger"
    },
    {
      "schemaName": "severity",
      "displayName": "Severity",
      "type": "Choice",
      "required": true,
      "options": ["critical", "important", "suggestion", "info"],
      "description": "Trigger importance"
    },
    {
      "schemaName": "priority_order",
      "displayName": "Priority Order",
      "type": "WholeNumber",
      "required": true,
      "description": "Lower = higher priority"
    },
    {
      "schemaName": "condition_json",
      "displayName": "Condition JSON",
      "type": "MultilineText",
      "maxLength": 4000,
      "required": true,
      "description": "JSON condition definition"
    },
    {
      "schemaName": "message_template",
      "displayName": "Message Template",
      "type": "MultilineText",
      "maxLength": 1000,
      "required": true,
      "description": "Template with placeholders"
    },
    {
      "schemaName": "cooldown_hours",
      "displayName": "Cooldown Hours",
      "type": "WholeNumber",
      "required": false,
      "description": "Hours before can fire again"
    },
    {
      "schemaName": "is_active",
      "displayName": "Is Active",
      "type": "Boolean",
      "required": true,
      "defaultValue": true,
      "description": "Whether trigger is enabled"
    },
    {
      "schemaName": "applies_to_steps_json",
      "displayName": "Applies to Steps",
      "type": "MultilineText",
      "maxLength": 500,
      "required": false,
      "description": "JSON array of applicable steps"
    },
    {
      "schemaName": "created_at",
      "displayName": "Created At",
      "type": "DateTime",
      "required": true,
      "description": "When created"
    }
  ],
  "indexes": [
    {
      "name": "idx_trigger_code",
      "columns": ["trigger_code"],
      "isUnique": true
    },
    {
      "name": "idx_agent_active",
      "columns": ["agent_code", "is_active"],
      "isUnique": false
    }
  ]
}
