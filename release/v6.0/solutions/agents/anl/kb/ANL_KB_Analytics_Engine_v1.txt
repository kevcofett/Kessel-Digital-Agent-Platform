ANL KNOWLEDGE BASE - ANALYTICS ENGINE v1
VERSION: 1.0
STATUS: Production Ready
COMPLIANCE: 6-Rule Compliant

================================================================================
SECTION 1 - MEDIA MIX MODELING FUNDAMENTALS
================================================================================

DEFINITION AND APPROACH

Media Mix Modeling (MMM) is a statistical analysis technique used to quantify the impact of marketing activities on business outcomes. MMM uses regression analysis on historical data to determine the contribution of each marketing channel to sales or other KPIs.

CORE MMM FORMULA
Sales = Baseline + B1(Channel1) + B2(Channel2) + Bn(ChannelN) + External_Factors + Error

Where:
- Baseline = Sales that would occur without marketing (organic demand)
- B1 through Bn = Coefficients representing channel effectiveness
- External_Factors = Seasonality, economic conditions, competition
- Error = Unexplained variance

KEY MMM COMPONENTS

DEPENDENT VARIABLE OPTIONS
- Sales revenue
- Conversions
- Leads
- New customer acquisition
- Other business KPIs

INDEPENDENT VARIABLES - MARKETING INPUTS
- Advertising spend by channel
- GRPs or impressions by channel
- Promotional activities
- Pricing changes
- Distribution changes

CONTROL VARIABLES - EXTERNAL FACTORS
- Seasonality patterns (monthly, weekly, holiday)
- Economic indicators
- Competitive activity
- Weather conditions
- Category trends

MMM OUTPUT METRICS

CONTRIBUTION
The absolute sales volume attributed to each marketing element.
Formula: Contribution = Coefficient x Marketing_Input

EFFECTIVENESS
The volume generated per unit of marketing effort.
Formula: Effectiveness = Contribution / Marketing_Spend

ROI CALCULATION
Return on marketing investment.
Formula: ROI = (Contribution x Margin - Marketing_Spend) / Marketing_Spend

ELASTICITY
Percentage change in sales for a 1 percent change in marketing spend.
Formula: Elasticity = (Percent_Change_Sales) / (Percent_Change_Spend)

MMM LIMITATIONS AND AGENT GUIDANCE

LIMITATION 1 - HISTORICAL DATA REQUIREMENT
MMM requires 2-3 years of clean, consistent data for robust results.
AGENT GUIDANCE: When historical data is limited, use industry benchmarks with MEDIUM-LOW confidence.

LIMITATION 2 - MULTICOLLINEARITY
Channels often move together, making it hard to isolate individual effects.
AGENT GUIDANCE: Use benchmarks for channel decomposition when user spend is highly correlated.

LIMITATION 3 - AGGREGATE LEVEL
MMM provides channel-level insights, not campaign or creative level.
AGENT GUIDANCE: Supplement with platform-reported metrics for tactical optimization.

================================================================================
SECTION 2 - ADSTOCK AND CARRYOVER EFFECTS
================================================================================

ADSTOCK DEFINITION

Adstock (advertising stock) measures the prolonged effect of advertising beyond the period of initial exposure. It captures how advertising builds awareness that persists and decays over time.

The theory: Advertising creates memory traces that influence purchase decisions even after exposure stops. Each new exposure builds awareness, which then decays gradually in the absence of further advertising.

GEOMETRIC ADSTOCK MODEL

The most common adstock transformation uses geometric decay:

FORMULA
Adstock_t = Spend_t + (Decay_Rate x Adstock_t-1)

Where:
- Adstock_t = Transformed advertising effect at time t
- Spend_t = Raw advertising spend at time t
- Decay_Rate = Carryover rate (0 to 1)
- Adstock_t-1 = Previous period adstock

HALF-LIFE CALCULATION
Half-life is the time for advertising effect to decay by 50 percent.
Formula: Half_Life = ln(0.5) / ln(Decay_Rate)

DECAY RATE FROM HALF-LIFE
Formula: Decay_Rate = 0.5^(1 / Half_Life)

EXAMPLE CALCULATION
- Week 1 spend: 10000 dollars, Decay rate: 0.6
- Week 1 Adstock: 10000
- Week 2 spend: 0, Adstock: 0 + (0.6 x 10000) = 6000
- Week 3 spend: 0, Adstock: 0 + (0.6 x 6000) = 3600
- Week 4 spend: 0, Adstock: 0 + (0.6 x 3600) = 2160

WEIBULL ADSTOCK MODEL

For more complex decay patterns, including delayed peak effects:

FORMULA
Decay_Rate_t = exp(-(t / Scale)^Shape)

Where:
- Shape parameter controls curve steepness
- Scale parameter controls time to peak effect
- Allows for modeling delayed response (common in high-consideration purchases)

USE CASES
- Delayed peak: B2B, automotive, real estate (Shape greater than 1)
- Immediate peak: CPG, impulse purchases (Shape less than 1)

TYPICAL ADSTOCK RATES BY CHANNEL

CHANNEL - TELEVISION
- Typical Decay Rate: 0.3 to 0.8
- Half-Life: 1 to 4 weeks
- Rationale: High emotional impact, strong memory formation

CHANNEL - RADIO
- Typical Decay Rate: 0.1 to 0.4
- Half-Life: 0.5 to 2 weeks
- Rationale: Background medium, lower attention

CHANNEL - OUT OF HOME
- Typical Decay Rate: 0.1 to 0.4
- Half-Life: 0.5 to 2 weeks
- Rationale: Immediate reminder effect, quick decay

CHANNEL - PRINT
- Typical Decay Rate: 0.2 to 0.5
- Half-Life: 1 to 3 weeks
- Rationale: Longer exposure time, can be revisited

CHANNEL - DIGITAL DISPLAY
- Typical Decay Rate: 0.0 to 0.3
- Half-Life: Less than 1 week
- Rationale: Quick exposure, low attention, fast decay

CHANNEL - PAID SEARCH
- Typical Decay Rate: 0.0 to 0.2
- Half-Life: Less than 1 week
- Rationale: Intent-based, immediate action orientation

CHANNEL - SOCIAL MEDIA
- Typical Decay Rate: 0.1 to 0.4
- Half-Life: 0.5 to 2 weeks
- Rationale: Varies by format (video higher, static lower)

AGENT GUIDANCE
- For awareness campaigns, assume higher decay rates (longer-lasting effects)
- For direct response, assume lower decay rates (immediate action)
- Always disclose adstock assumptions to user

================================================================================
SECTION 3 - REACH AND FREQUENCY MODELS
================================================================================

FUNDAMENTAL DEFINITIONS

REACH
The percentage or number of unique individuals in the target audience exposed to advertising at least once during a specified period.
- Usually expressed as a percentage of target audience
- Maximum theoretical reach is 99 percent (some individuals unreachable)

FREQUENCY
The average number of times each reached individual is exposed to the advertising during a specified period.
- Formula: Frequency = GRPs / Reach
- Also called average OTS (opportunities to see)

GROSS RATING POINTS (GRPs)
Total advertising weight combining reach and frequency.
- Formula: GRPs = Reach (as percentage) x Frequency
- 1 GRP = reaching 1 percent of target audience once

REACH CURVE MATHEMATICS

Reach does not increase linearly with GRPs. It follows a diminishing returns curve:

GENERAL REACH CURVE FORMULA
Reach = Maximum_Reach x (1 - exp(-k x GRPs))

Where:
- Maximum_Reach = Asymptotic maximum (typically 70-90 percent)
- k = Rate constant (channel-specific)
- GRPs = Gross rating points purchased

TYPICAL REACH BENCHMARKS
- At 100 GRPs: Approximately 40-50 percent reach
- At 200 GRPs: Approximately 55-65 percent reach
- At 300 GRPs: Approximately 65-75 percent reach
- At 400 GRPs: Approximately 70-80 percent reach
- Beyond 400 GRPs: Diminishing incremental reach

EFFECTIVE FREQUENCY FRAMEWORK

Not all exposures are equal. Effective frequency defines the minimum exposures needed for impact.

OSTROW MODEL COMPONENTS
Starting base frequency: 3.0 exposures

MARKETING FACTORS (adjust plus or minus 0.2 each)
- Established brand: Decrease frequency
- New brand: Increase frequency
- Low market share: Increase frequency
- High purchase cycle: Decrease frequency
- Infrequent usage: Increase frequency

MESSAGE FACTORS (adjust plus or minus 0.2 each)
- Simple message: Decrease frequency
- Complex message: Increase frequency
- Unique message: Decrease frequency
- Similar to competition: Increase frequency
- High wear-out potential: Increase frequency

MEDIA FACTORS (adjust plus or minus 0.2 each)
- Low clutter environment: Decrease frequency
- High clutter environment: Increase frequency
- High attentiveness: Decrease frequency
- Low attentiveness: Increase frequency
- Continuous scheduling: Decrease frequency
- Flighted scheduling: Increase frequency

TYPICAL EFFECTIVE FREQUENCY RANGES
- Brand awareness: 3 to 5 exposures
- Message comprehension: 5 to 7 exposures
- Attitude change: 7 to 10 exposures
- Purchase intent: 8 to 12 exposures

REACH VS FREQUENCY OPTIMIZATION

OPTIMIZE FOR REACH WHEN
- Launching new products or brands
- Broad target audience
- Simple message
- Long purchase cycle
- Building awareness as primary objective
- Minimum reach not yet achieved (below 60 percent)

OPTIMIZE FOR FREQUENCY WHEN
- Established brand needing reinforcement
- Narrow target audience
- Complex message
- Short purchase cycle
- Conversion as primary objective
- Facing high competitive clutter

AGENT CALCULATION
Given budget, CPM, and target audience size:

Total_Impressions = Budget / (CPM / 1000)
Maximum_Reach_Achievable = Audience_Size x Reach_Curve(GRPs)
Average_Frequency = Total_Impressions / (Maximum_Reach x Audience_Size)

================================================================================
SECTION 4 - DIMINISHING RETURNS AND RESPONSE CURVES
================================================================================

RESPONSE CURVE FUNDAMENTALS

Response curves describe the relationship between marketing investment and business outcomes. Understanding the shape of this curve is critical for budget optimization.

FOUR PRIMARY CURVE TYPES

LINEAR
- Formula: Sales = A + B x Spend
- Constant returns at all spend levels
- Rare in practice
- Assumes infinite scalability (unrealistic)

CONCAVE (Diminishing Returns)
- Formula: Sales = A x Spend^B, where B less than 1
- Returns diminish as spend increases
- Most common in marketing
- Appropriate for mature channels

S-CURVE (Logistic)
- Formula: Sales = S_max / (1 + exp(-B x (Spend - Inflection)))
- Low returns initially (threshold effect)
- High returns in middle range
- Diminishing returns at high levels
- Common for TV and brand campaigns

CONVEX
- Formula: Sales = A x Spend^B, where B greater than 1
- Returns increase as spend increases
- Rare, indicates undersaturation
- May occur in emerging channels or early growth

SATURATION POINT IDENTIFICATION

The saturation point is where additional spend generates negligible incremental returns.

MATHEMATICAL DEFINITION
Saturation occurs when marginal ROI approaches 1.0 (break-even).

FORMULA FOR MARGINAL ROI
Marginal_ROI = (dRevenue / dSpend) x Margin

FINDING SATURATION
For concave curve Sales = A x Spend^B:
Marginal_Sales = A x B x Spend^(B - 1)
Set Marginal_Sales x Margin = 1
Solve for Spend to find saturation point

AGENT GUIDANCE
- Plot response curve with current spend position marked
- Identify remaining headroom before saturation
- Calculate marginal efficiency at current spend
- Recommend reallocation if channel is saturated

HILL FUNCTION (S-CURVE) PARAMETERS

The Hill function is commonly used for modeling advertising response:

FORMULA
Response = Saturation_Level x (Spend^Alpha) / (K^Alpha + Spend^Alpha)

Where:
- Saturation_Level = Maximum achievable response
- K = Half-saturation constant (spend at 50 percent response)
- Alpha = Shape parameter (steepness of curve)

PARAMETER INTERPRETATION
- Alpha less than 1: More concave (diminishing returns dominant)
- Alpha = 1: Standard Hill curve
- Alpha greater than 1: More S-shaped (threshold effect dominant)

CHANNEL SATURATION INDICATORS

SIGNAL - Channel is approaching saturation
- Marginal CPM increasing faster than impressions
- Frequency exceeding effective frequency threshold
- Reach curve flattening significantly
- Creative fatigue indicators (CTR declining)
- Diminishing incremental conversions

AGENT RESPONSE
- Calculate current position on response curve
- Estimate remaining headroom (percent of saturation)
- If greater than 80 percent saturated: Recommend reallocation
- Present alternative channels with lower saturation

================================================================================
SECTION 5 - BUDGET ALLOCATION OPTIMIZATION
================================================================================

OPTIMIZATION OBJECTIVE

The goal of budget allocation optimization is to distribute marketing spend across channels to maximize business outcomes within constraints.

OPTIMIZATION FORMULA
Maximize: Total_Response = Sum of (Response_Curve_i(Spend_i)) for all channels i
Subject to: Sum of (Spend_i) = Total_Budget
Subject to: Spend_i >= Minimum_i for all i
Subject to: Spend_i <= Maximum_i for all i

MARGINAL ROI EQUALIZATION

At optimal allocation, marginal ROI must be equal across all channels.

PRINCIPLE
If Channel A has higher marginal ROI than Channel B, shift budget from B to A until marginal ROIs equalize.

FORMULA
Marginal_ROI_A = dResponse_A / dSpend_A
Optimal when: Marginal_ROI_A = Marginal_ROI_B = Marginal_ROI_N

ITERATIVE ALLOCATION PROCESS
1. Calculate marginal ROI for each channel at current spend
2. Identify channel with highest marginal ROI
3. Identify channel with lowest marginal ROI
4. Shift increment from lowest to highest
5. Recalculate marginal ROIs
6. Repeat until marginal ROIs converge or constraints bind

MINIMUM SPEND THRESHOLDS

Channels require minimum spend to achieve meaningful impact.

CHANNEL - TELEVISION (NATIONAL)
- Minimum Weekly GRPs: 100
- Minimum Monthly Budget: 200000 dollars
- Rationale: Need critical mass for awareness impact

CHANNEL - TELEVISION (LOCAL/CABLE)
- Minimum Weekly GRPs: 50
- Minimum Monthly Budget: 25000 to 50000 dollars
- Rationale: Lower threshold but still need presence

CHANNEL - RADIO
- Minimum Weekly GRPs: 100
- Minimum Monthly Budget: 15000 to 30000 dollars
- Rationale: Background medium needs repetition

CHANNEL - OUT OF HOME
- Minimum Monthly Budget: 20000 to 50000 dollars
- Rationale: Need geographic coverage

CHANNEL - PAID SOCIAL
- Minimum Daily Budget per Campaign: 50 to 100 dollars
- Minimum Monthly per Platform: 5000 to 15000 dollars
- Rationale: Need data for algorithm optimization

CHANNEL - PAID SEARCH (NON-BRAND)
- Minimum Monthly Budget: 5000 to 20000 dollars
- Rationale: Need coverage of relevant queries

CHANNEL - PROGRAMMATIC DISPLAY
- Minimum Monthly Budget: 10000 to 25000 dollars
- Rationale: Need scale for optimization

AGENT GUIDANCE
- Do not recommend channel allocations below minimum thresholds
- If budget insufficient for channel, exclude it entirely
- Better to fund fewer channels adequately than many inadequately

BUDGET ALLOCATION RULES OF THUMB

FOR AWARENESS OBJECTIVES
- 60 to 70 percent: Broad reach channels (TV, OOH, Video)
- 20 to 30 percent: Digital awareness (Social, Display)
- 10 to 20 percent: Support channels (Search, Retargeting)

FOR CONSIDERATION OBJECTIVES
- 40 to 50 percent: Content and engagement (Social, Video)
- 30 to 40 percent: Search and discovery (SEM, SEO)
- 20 to 30 percent: Retargeting and nurturing

FOR CONVERSION OBJECTIVES
- 50 to 60 percent: Performance channels (SEM, Shopping, Social)
- 20 to 30 percent: Retargeting (Display, Social)
- 10 to 20 percent: Awareness maintenance (Brand search, Social)

AGENT GUIDANCE
- Use these as starting points, then optimize based on response curves
- Always validate allocation against vertical benchmarks
- Flag allocations that deviate significantly from norms

================================================================================
SECTION 6 - MEDIA FLIGHTING AND SCHEDULING
================================================================================

SCHEDULING STRATEGY OVERVIEW

Media scheduling determines how advertising is distributed over time. The three fundamental strategies are continuous, flighting, and pulsing.

CONTINUOUS SCHEDULING

DEFINITION
Advertising runs consistently throughout the campaign period with minimal variation in weight.

PATTERN
Steady spend each week or month with little fluctuation.

BEST FOR
- Products with constant year-round demand
- Reminder advertising for established brands
- Services with continuous purchase cycles
- Categories with low seasonality

ADVANTAGES
- Maintains constant presence
- Maximizes total reach over time
- Prevents competitor ambush during gaps
- Supports habitual purchase patterns

DISADVANTAGES
- May lack impact at any single point
- Expensive to maintain (no budget rest periods)
- May not capitalize on peak demand periods

CALCULATION
Weekly_Budget = Annual_Budget / 52

FLIGHTING (BURSTING)

DEFINITION
Advertising runs in concentrated bursts alternating with periods of no advertising.

PATTERN
Flights of 4 to 8 weeks on, followed by 4 to 8 weeks off.

BEST FOR
- Seasonal products
- Limited budgets needing concentrated impact
- Product launches and promotions
- Categories with distinct purchase windows

ADVANTAGES
- Achieves high reach and frequency during active periods
- Conserves budget by eliminating low-return periods
- Creates strong awareness spikes
- Aligns with purchase cycles

DISADVANTAGES
- Awareness decays during dark periods
- Competitors may fill gaps
- Loses continuous presence
- May miss off-cycle purchasers

CALCULATION
Flight_Budget = Annual_Budget / Number_of_Flights
Weekly_Budget_During_Flight = Flight_Budget / Flight_Duration_Weeks

PULSING

DEFINITION
Combines continuous and flighting by maintaining low baseline advertising with periodic increases (pulses) during key periods.

PATTERN
Base level of spend all year with increased investment during peak periods.

PULSE TYPES

STARTUP PULSE
- Heavy concentrated media at campaign launch
- Duration: 2 to 4 weeks
- Use: New product introduction, brand launch

PROMOTIONAL PULSE
- Aligned with specific promotions or events
- Duration: 1 to 2 weeks per promotion
- Use: Sales events, seasonal promotions

SEASONAL PULSE
- Aligned with seasonal demand peaks
- Duration: 4 to 8 weeks per season
- Use: Holiday retail, summer beverages

PERIODIC PULSE
- Regular recurring increases
- Pattern: Monthly, quarterly
- Use: Maintaining awareness momentum

CALCULATION
Base_Weekly_Budget = Annual_Budget x 0.3 / 52
Pulse_Budget = Annual_Budget x 0.7
Pulse_Weekly_Budget = Pulse_Budget / Total_Pulse_Weeks

SCHEDULING DECISION FRAMEWORK

AGENT DECISION TREE

Question 1: Is demand highly seasonal?
- Yes: Consider FLIGHTING or PULSING with seasonal pulses
- No: Continue to Question 2

Question 2: Is budget sufficient for year-round presence?
- Yes: Consider CONTINUOUS or PULSING
- No: Consider FLIGHTING

Question 3: Is this a new brand or product?
- Yes: Start with STARTUP PULSE then transition
- No: Continue to Question 4

Question 4: Are there promotional events to support?
- Yes: Consider PULSING with promotional pulses
- No: Default to CONTINUOUS if budget allows

Question 5: What is competitive activity pattern?
- Competitors continuous: Match or counter-program
- Competitors flighting: Consider continuous for differentiation

FLIGHTING OPTIMIZATION

OPTIMAL FLIGHT LENGTH
Research suggests flights of 4 to 6 weeks achieve best balance of impact and efficiency.

OPTIMAL HIATUS LENGTH
Hiatus periods must be short enough to prevent complete awareness decay.
- If adstock half-life = 2 weeks: Maximum hiatus 4 weeks
- If adstock half-life = 4 weeks: Maximum hiatus 8 weeks

RECENCY PRINCIPLE
Advertising closest to purchase has highest impact. Weight flights toward purchase timing.

FORMULA FOR FLIGHT SPACING
Maximum_Hiatus = 2 x Adstock_Half_Life

================================================================================
SECTION 7 - ATTRIBUTION MODELS
================================================================================

ATTRIBUTION MODEL OVERVIEW

Attribution models assign credit for conversions to marketing touchpoints. The choice of model significantly impacts channel valuation.

SINGLE-TOUCH ATTRIBUTION MODELS

FIRST-TOUCH ATTRIBUTION
- 100 percent credit to first touchpoint
- Formula: First touchpoint = 100 percent
- Use case: Understanding awareness drivers
- Limitation: Ignores conversion influence

LAST-TOUCH ATTRIBUTION
- 100 percent credit to last touchpoint before conversion
- Formula: Last touchpoint = 100 percent
- Use case: Understanding closing channels
- Limitation: Ignores awareness and consideration touchpoints

MULTI-TOUCH ATTRIBUTION MODELS

LINEAR ATTRIBUTION
- Equal credit to all touchpoints
- Formula: Each touchpoint = 100 percent / Number_of_Touchpoints
- Use case: Long consideration cycles, all touchpoints valued equally
- Example: 4 touchpoints = 25 percent each

TIME-DECAY ATTRIBUTION
- More credit to touchpoints closer to conversion
- Formula: Credit_i = Decay_Factor^(Time_to_Conversion_i)
- Use case: Short sales cycles, recency matters
- Example: Touchpoints at 7, 3, 1 days get 15, 30, 55 percent

POSITION-BASED (U-SHAPED) ATTRIBUTION
- Heavy credit to first and last touchpoints
- Formula: First = 40 percent, Last = 40 percent, Middle = 20 percent split
- Use case: Valuing both awareness and conversion
- Example: 4 touchpoints = 40, 10, 10, 40 percent

W-SHAPED ATTRIBUTION
- Heavy credit to first, lead creation, and last touchpoints
- Formula: First = 30 percent, Lead = 30 percent, Last = 30 percent, Others = 10 percent split
- Use case: B2B with identifiable lead stage

FULL-PATH ATTRIBUTION
- Credits first, lead, opportunity, and close touchpoints
- Formula: First = 22.5 percent, Lead = 22.5 percent, Opportunity = 22.5 percent, Close = 22.5 percent, Others = 10 percent split
- Use case: Complex B2B sales processes

DATA-DRIVEN ATTRIBUTION

DATA-DRIVEN (ALGORITHMIC)
- Uses machine learning to assign credit based on actual conversion patterns
- Analyzes paths that convert versus paths that do not
- Requires significant conversion volume (typically 1000 plus conversions)
- Black box in most platforms (limited transparency)

SHAPLEY VALUE ATTRIBUTION
- Game theory approach to fair value distribution
- Calculates each touchpoints marginal contribution
- More computationally intensive
- Considered most theoretically fair

ATTRIBUTION MODEL SELECTION GUIDANCE

SELECT FIRST-TOUCH WHEN
- Primary goal is understanding top-of-funnel
- Building awareness campaigns
- Evaluating prospecting channels

SELECT LAST-TOUCH WHEN
- Primary goal is understanding bottom-of-funnel
- Short sales cycles (e-commerce)
- Evaluating retargeting effectiveness

SELECT LINEAR WHEN
- All touchpoints are believed to have equal importance
- Long consideration cycles
- Starting point when uncertain

SELECT TIME-DECAY WHEN
- Recency of interaction is important
- Shorter sales cycles
- Digital-heavy customer journeys

SELECT POSITION-BASED WHEN
- First and last touchpoints are most important
- Balanced view of awareness and conversion
- Most versatile for general use

SELECT DATA-DRIVEN WHEN
- Sufficient conversion volume exists
- Platform provides this option
- Validate against other models

AGENT GUIDANCE
- Default to POSITION-BASED for balanced view
- Always report which model is used
- Consider multiple models for comparison
- Acknowledge that all models have limitations

================================================================================
SECTION 8 - RFM ANALYSIS FUNDAMENTALS
================================================================================

RFM DEFINITION AND PURPOSE

RFM (Recency, Frequency, Monetary) analysis is a proven marketing technique for behavior-based customer segmentation. RFM groups customers based on three quantifiable transaction behaviors.

RECENCY (R)
- How recently did the customer make a purchase
- Measured as days since last transaction
- Customers who purchased recently are more likely to respond to marketing

FREQUENCY (F)
- How often does the customer make purchases
- Measured as number of transactions in a defined period
- Frequent buyers demonstrate loyalty and engagement

MONETARY (M)
- How much does the customer spend
- Measured as total revenue or average order value
- High spenders represent greater customer value

PURPOSE OF RFM
- Identify most valuable customers (Champions)
- Segment customers for targeted marketing
- Predict future purchase likelihood
- Optimize marketing budget allocation
- Reduce wasted spend on unresponsive segments
- Provide inputs for probabilistic LTV models (BG/NBD, Pareto/NBD)

CALCULATING RFM VALUES

RAW RFM CALCULATIONS
- Recency_Value = Today_Date minus Last_Purchase_Date (in days)
- Frequency_Value = Count of distinct transactions in analysis period
- Monetary_Value = Sum of transaction values in analysis period

ANALYSIS PERIOD GUIDANCE
- High-frequency businesses: 6 months
- Standard retail: 12-24 months
- Low-frequency purchases: 36 months

RFM SCORING METHODOLOGY

QUINTILE METHOD (RECOMMENDED)
- Divide customers into 5 equal groups (20 percent each) based on each metric
- Rank customers by Recency (ascending - lower days is better)
- Assign top 20 percent score of 5, next 20 percent score of 4, etc.
- Repeat for Frequency (descending - higher is better)
- Repeat for Monetary (descending - higher is better)

COMBINING SCORES
- Concatenation: RFM_Code = R concatenated with F concatenated with M (e.g., 543)
- Creates 125 possible combinations (5 x 5 x 5)
- Addition: RFM_Total = R plus F plus M (range 3 to 15)

STANDARD RFM CUSTOMER SEGMENTS

CHAMPIONS (R: 5, F: 4-5, M: 4-5)
- Best customers: bought recently, buy often, spend the most
- Action: Reward loyalty, offer early access

LOYAL CUSTOMERS (R: 3-4, F: 4-5, M: 4-5)
- Consistent high-value buyers
- Action: Upsell premium products, loyalty program

POTENTIAL LOYALISTS (R: 4-5, F: 2-3, M: 2-3)
- Recent customers with growth potential
- Action: Onboarding, cross-sell

AT RISK (R: 1-2, F: 3-4, M: 3-4)
- Previously valuable customers now disengaging
- Action: Win-back campaigns

LOST (R: 1, F: 1, M: 1)
- Lowest scores, likely churned
- Action: Remove from active marketing

RFM BENCHMARKS
- Champions should represent 5-15 percent of customers
- At Risk segment requires immediate attention if growing
- Lost segment exceeding 20 percent indicates retention problem

INTEGRATION WITH MEDIA PLANNING
- Use RFM segments for audience targeting
- Exclude Lost customers from prospecting lookalikes
- Build Champions lookalikes for acquisition
- Allocate retention budget based on At Risk segment size

================================================================================
SECTION 9 - CUSTOMER LIFETIME VALUE MODELS
================================================================================

LTV DEFINITION AND IMPORTANCE

Customer Lifetime Value (CLV or LTV) represents the total revenue a business expects from a customer throughout their entire relationship. LTV is the theoretical maximum a company should pay to acquire a customer.

CORE LTV FORMULAS

SIMPLE LTV
- LTV = Average_Revenue_Per_Customer x Customer_Lifespan

MARGIN-ADJUSTED LTV
- LTV = (Average_Order_Value x Purchase_Frequency x Customer_Lifespan) x Gross_Margin

DISCOUNTED LTV (NET PRESENT VALUE)
- LTV = Sum of (Margin_t / (1 + Discount_Rate)^t) for t = 1 to Lifespan

DETERMINISTIC LTV MODELS

HISTORICAL CLV
- Based on actual past revenue from customer relationships
- Formula: Historical_CLV = Sum of all past transactions minus acquisition and service costs

TRADITIONAL CLV (WITH RETENTION AND DISCOUNTING)
- Formula: CLV = (GML x R) / (1 + D - R)
- GML = Gross Margin per Lifespan
- R = Retention Rate (percentage retained per period)
- D = Discount Rate (cost of capital)

EXAMPLE CALCULATION
- Average monthly margin per customer: $100
- Monthly churn rate: 5 percent
- Retention rate: 95 percent
- Discount rate: 10 percent annually (0.83 percent monthly)
- CLV = ($100 x 0.95) / (1 + 0.0083 - 0.95) = $1,630

PROBABILISTIC LTV MODELS

BG/NBD MODEL (BETA-GEOMETRIC/NEGATIVE BINOMIAL DISTRIBUTION)
- Used for non-contractual continuous purchase settings
- Developed by Fader, Hardie, and Lee (2005)
- Assumes purchase rate varies across customers (Gamma distribution)
- Assumes dropout probability varies across customers (Beta distribution)

KEY INPUTS (FROM RFM DATA)
- Frequency: Number of repeat purchases (total minus one)
- Recency: Time since most recent purchase
- T: Customer age (time since first purchase)

KEY OUTPUTS
- Expected number of future purchases
- Probability customer is still active
- Conditional expected purchases given history

GAMMA-GAMMA MODEL
- Used with BG/NBD to model monetary value
- Weights individual and population average transaction values

LTV TO CAC RATIO

CALCULATION
- LTV_to_CAC = Customer_Lifetime_Value / Customer_Acquisition_Cost

INTERPRETATION
- Less than 1:0 = Unsustainable (losing money)
- 1:1 to 2:1 = Marginally profitable
- 2:1 to 3:1 = Healthy business (industry standard)
- 3:1 to 5:1 = Strong (may be underinvesting)
- Greater than 5:1 = Excellent (scale acquisition)

PAYBACK PERIOD
- Payback_Months = CAC / (Monthly_Revenue x Gross_Margin)
- SaaS benchmark: 12-18 months
- E-commerce benchmark: 3-6 months

================================================================================
SECTION 10 - DECILE ANALYSIS AND MARGINAL OPTIMIZATION
================================================================================

DECILE ANALYSIS PURPOSE

Decile analysis ranks customers by predicted response probability and divides them into 10 equal groups. This enables identification of most responsive segments and optimal depth of marketing investment.

CONSTRUCTING A DECILE TABLE

PROCESS
- Build predictive model (logistic regression, ML model)
- Score all customers with predicted probability
- Rank customers from highest to lowest probability
- Divide into 10 equal groups (deciles)
- Calculate metrics for each decile

STANDARD DECILE TABLE METRICS
- Number of customers per decile
- Number of responders per decile
- Response rate (responders / customers)
- Cumulative responders
- Cumulative response rate
- Lift (decile response rate / overall rate)
- Cumulative lift

GAINS CHART AND LIFT CHART

GAINS CHART (CUMULATIVE RESPONSE CURVE)
- Plots cumulative percent of responders captured vs. percent of population contacted
- Curve above diagonal indicates model has predictive power
- Steeper curve indicates better model performance
- Perfect model would be vertical then horizontal

LIFT CHART
- Plots lift factor for each decile
- Lift_Decile = Response_Rate_Decile / Overall_Response_Rate
- Cumulative_Lift = Cumulative_Response_Rate / Overall_Response_Rate

BREAKEVEN ANALYSIS FOR DIRECT MARKETING

BREAKEVEN RESPONSE RATE
- Minimum response rate required to recover campaign costs
- Breakeven = Cost_Per_Piece / (Profit_Per_Response x Margin)

BREAKEVEN DEPTH DETERMINATION
- Mail all deciles where response rate exceeds breakeven
- Stop at decile where expected response equals breakeven
- Optimal depth is where marginal profit approaches zero

MARGINAL DOLLAR ALLOCATION PRINCIPLE

CORE CONCEPT
- Allocate each marketing dollar to the opportunity with highest marginal return
- Stop when marginal return equals marginal cost

MARGINAL ROI CALCULATION
- Marginal_ROI = Change_in_Revenue / Change_in_Spend

OPTIMIZATION RULE
- Continue investing until Marginal_Revenue = Marginal_Cost
- Equivalently: Marginal_ROI = 1.0

CROSS-CHANNEL OPTIMIZATION
- At optimum, marginal ROI should be equal across all channels
- Marginal_ROI_Channel_A = Marginal_ROI_Channel_B = ... = Marginal_ROI_Channel_N
- If not equal, reallocate from lower to higher marginal ROI channels

AGENT GUIDANCE
- Always calculate breakeven before recommending campaign depth
- Present decile analysis to justify targeting decisions
- Monitor actual response vs. predicted by decile
- Adjust models based on campaign performance

================================================================================
SECTION 11 - COHORT AND VINTAGE ANALYSIS
================================================================================

COHORT ANALYSIS FUNDAMENTALS

Cohort analysis groups customers by a shared characteristic (typically acquisition date) and tracks their behavior over time. This enables apples-to-apples comparison across different time periods.

COHORT TYPES

ACQUISITION COHORTS
- Grouped by when customer was acquired (first purchase date, signup date)
- Best for understanding customer lifecycle patterns

BEHAVIORAL COHORTS
- Grouped by specific actions taken (feature adoption, purchase category)
- Best for understanding feature impact on retention

TIME-BASED COHORTS
- Grouped by calendar time period
- Best for understanding market trends and seasonality

RETENTION MATRIX CONSTRUCTION

STRUCTURE
- Rows: Acquisition cohorts (by month, quarter, or year)
- Columns: Tenure periods (months since acquisition)
- Cells: Retention rate or customer count

CALCULATING RETENTION
- Retention_Rate_t = Active_Customers_t / Original_Cohort_Size

SURVIVAL FUNCTION
- S(t) = Probability customer survives to time t
- S(t) = Product of (1 - Churn_Rate_i) for i = 1 to t

RETENTION CURVE MODELS
- Exponential: Retention(t) = exp(-lambda x t)
- Power law: Retention(t) = t^(-alpha)
- Logarithmic: Retention(t) = a x ln(t) + b

FIVE-YEAR LIFECYCLE FORECASTING

FORECASTING METHODOLOGY
- Step 1: Analyze 2-3 years of cohort data minimum
- Step 2: Fit retention model (exponential, power law, or logarithmic)
- Step 3: Project retention curve forward 60 months
- Step 4: Overlay average revenue per active customer by tenure

FIVE-YEAR SURVIVAL BENCHMARKS
- Year 1: 20-35 percent typical survival
- Year 2: 15-25 percent of original cohort
- Year 3-5: 8-18 percent of original cohort

COHORT LTV CALCULATION

FORMULA
- Cohort_LTV = Sum of (Retention_Rate_t x ARPU_t x Discount_Factor_t) for t = 1 to 60

MONTHLY CALCULATION
- Expected_Active = Original_Cohort_Size x Retention_Rate_t
- Expected_Revenue_t = Expected_Active x ARPU_t
- Discounted_Revenue_t = Expected_Revenue_t / (1 + monthly_rate)^t

VINTAGE ANALYSIS FOR ACQUISITION QUALITY

KEY VINTAGE METRICS
- Retention benchmark: Compare Month 3, 6, 12 retention to historical
- LTV velocity: Track LTV accumulation rate by cohort
- Payback trajectory: Track CAC payback timing by cohort

RED FLAGS
- Declining retention cohort-over-cohort
- LTV to CAC ratio declining
- Payback period extending

AGENT GUIDANCE
- Use cohort analysis to validate LTV assumptions
- Flag deteriorating acquisition quality early

================================================================================
SECTION 12 - FORMULA QUICK REFERENCE
================================================================================

EFFICIENCY FORMULAS

CPM = (Total_Spend / Impressions) x 1000
CPC = Total_Spend / Clicks
CPA = Total_Spend / Conversions
CAC = Total_Spend / New_Customers
ROAS = (Revenue - Total_Spend) / Total_Spend
ROI = (Revenue - Spend) / Spend x 100

DELIVERY FORMULAS

CTR = (Clicks / Impressions) x 100
CVR = (Conversions / Clicks) x 100
GRPs = Reach_Percent x Frequency
Frequency = Impressions / Unique_Users

PROJECTION FORMULAS

Projected_Impressions = Budget x 1000 / CPM
Projected_Clicks = Projected_Impressions x CTR / 100
Projected_Conversions = Projected_Clicks x CVR / 100

RFM FORMULAS

Recency_Value = Today_Date - Last_Purchase_Date (days)
Frequency_Value = Count of transactions in period
Monetary_Value = Sum of transaction values in period
RFM_Code = R concatenated with F concatenated with M

LTV FORMULAS

Simple_LTV = Avg_Revenue_Per_Customer x Customer_Lifespan
Traditional_CLV = (GML x R) / (1 + D - R)
LTV_to_CAC_Ratio = LTV / CAC
Payback_Months = CAC / (Monthly_Revenue x Gross_Margin)

DECILE FORMULAS

Lift = Decile_Response_Rate / Overall_Response_Rate
Breakeven_Response = Cost_Per_Piece / (Profit_Per_Response x Margin)
Marginal_ROI = Change_in_Revenue / Change_in_Spend

COHORT FORMULAS

Retention_Rate_t = Active_Customers_t / Original_Cohort_Size
Cohort_LTV = Sum of (Retention_t x ARPU_t x Discount_t)

================================================================================
END OF DOCUMENT
================================================================================
