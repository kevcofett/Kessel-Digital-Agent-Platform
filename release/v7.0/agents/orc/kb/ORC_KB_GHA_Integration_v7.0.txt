ORC KNOWLEDGE BASE - GHA INTEGRATION PROTOCOLS

OVERVIEW

This knowledge base defines how ORC integrates with the Growth Hacking Agent (GHA) for bidirectional communication. ORC routes user growth requests to GHA, and GHA requests specialist assistance through ORC.

GHA AS A ROUTING TARGET

When routing user requests to GHA:
- Recognize growth-related intent using GHA triggers from ORC_KB_Routing_Logic_v7.0.txt
- Route to GHA like any other specialist agent
- Include session context with plan_state
- GHA operates its own 8-step growth workflow

GHA Endpoint:
- Agent code: GHA
- Registered in eap_agents table
- Standard specialist endpoint pattern

GHA AS A REQUEST SOURCE

When GHA requests specialist assistance:
- GHA sends request to ORC with source_agent set to GHA
- Request includes target_specialist indicating which specialist is needed
- Request includes growth_context with growth plan state
- ORC routes directly to requested specialist
- Specialist response returns to GHA without synthesis

Request Fields from GHA:
- source_agent: GHA
- target_specialist: ANL, AUD, CHA, DOC, PRF, MKT, or CST
- growth_context: Growth session state and plan data
- user_message: The specific request for the specialist

Response to GHA:
- specialist_response: Full specialist output
- request_id: Tracking identifier
- status: success or error

GROWTH CONTEXT FIELDS

When routing requests from GHA, preserve these context fields:

growth_session_id: UUID linking to eap_growth_sessions table
growth_workflow_step: Current step 1 through 8 in growth workflow
growth_workflow_gate: Current gate 0 through 4
north_star_metric: Selected growth metric and targets
priority_stages: Array of priority lifecycle stages
growth_plan_state: JSON object with full growth plan data

Specialists receive growth_context to understand the broader growth strategy when providing their analysis.

GHA SPECIALIST REQUEST HANDLING

When source_agent equals GHA:
- Skip ORC intent classification
- Route directly to target_specialist
- Pass growth_context to specialist
- Return specialist response to GHA
- Do not synthesize or transform the response
- Log the interaction in eap_response_logs with source_agent as GHA

This bypass is intentional. GHA has already determined which specialist is needed and provides the context. ORC acts as a routing layer only.

SUPPORTED SPECIALISTS FOR GHA

GHA can request these specialists:

ANL - Analytics Agent
- ROI and ROAS projections
- LTV and CAC calculations
- Scenario modeling
- Financial analysis

AUD - Audience Agent
- Segmentation analysis
- LTV tier analysis
- Persona development
- Lookalike strategy

CHA - Channel Agent
- Channel recommendations
- Budget allocation
- Platform tactics
- Benchmark data

DOC - Document Agent
- Growth plan documentation
- Executive summaries
- Presentations
- Business cases

PRF - Performance Agent
- Campaign results analysis
- Experiment results
- Anomaly detection
- Attribution analysis

MKT - Marketing Strategy Agent
- Campaign strategy
- Creative briefs
- Messaging frameworks

CST - Consulting Strategy Agent
- Strategic frameworks
- Prioritization
- Maturity assessments

GHA RESPONSE HANDLING

After GHA completes a growth plan or major milestone:

Auto-Context Population:
- Growth context is automatically available for subsequent requests
- If user asks for media plan after growth work, include growth_plan_state in session context
- MPA agents can access growth outputs to inform their recommendations

Explicit Handoff Offers:
- ORC offers explicit handoff options when GHA completes a growth plan
- Options include media plan development, consulting framework, or change management
- User chooses whether to proceed with downstream work

Handoff Message Templates:
- Media plan: Your growth strategy is complete. Would you like to develop a media plan that implements this growth approach?
- Consulting: Your growth strategy is complete. Would you like to build a strategic framework around this initiative?
- Change management: Your growth strategy is complete. Would you like to plan the organizational change required?

SESSION STATE MANAGEMENT

GHA uses separate growth state in eap_growth_sessions table:
- growth_session_id links to main session_id
- growth_workflow_step tracks progress through 8 steps
- growth_plan_state stores growth-specific data

Main eap_sessions table stores:
- Standard session fields
- Reference to growth_session_id if GHA work exists
- plan_state for media planning data

Both states can coexist:
- User can have growth plan and media plan in same session
- Growth context informs media plan but does not overwrite it
- States are linked but independent

ERROR HANDLING

GHA Request Errors:
- If target_specialist is unavailable, return error to GHA
- GHA handles fallback behavior
- Log error in eap_error_logs with source_agent as GHA

GHA Timeout:
- GHA specialist requests use standard PT45S timeout
- On timeout, return timeout error to GHA
- GHA can retry or use alternative approach

LOGGING AND AUDIT

All GHA interactions are logged:
- eap_routing_logs: When ORC routes to GHA
- eap_response_logs: When specialists respond to GHA requests
- Both include source_agent field to identify GHA-originated requests

Audit Trail:
- Full traceability from user request to GHA to specialist and back
- Growth context preserved in logs for debugging
- Request chain visible: USER to ORC to GHA to ORC to SPECIALIST to GHA
