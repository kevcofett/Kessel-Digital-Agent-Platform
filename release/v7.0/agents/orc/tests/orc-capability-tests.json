{
  "version": "1.0.0",
  "description": "Capability tests for ORC (Orchestrator) Agent",
  "created": "2026-01-19",
  "agent": {
    "code": "ORC",
    "name": "Orchestrator",
    "capabilities": ["intent_classification", "specialist_routing", "response_synthesis", "session_management", "workflow_progression"]
  },
  "total_tests": 20,
  "categories": {
    "routing_accuracy": 6,
    "session_management": 4,
    "workflow_gates": 4,
    "synthesis": 3,
    "error_handling": 3
  },
  "tests": [
    {
      "id": "ORC-001",
      "category": "routing_accuracy",
      "name": "Route to ANL - Budget Query",
      "input": "What projections can I expect with a $750K media budget?",
      "expected_flow": "RouteToSpecialist",
      "expected_target_agent": "ANL",
      "expected_output_contains": ["projections", "budget", "confidence"],
      "priority": "P0",
      "tags": ["routing", "anl"]
    },
    {
      "id": "ORC-002",
      "category": "routing_accuracy",
      "name": "Route to AUD - Segmentation",
      "input": "Help me segment our customer base by purchase behavior",
      "expected_flow": "RouteToSpecialist",
      "expected_target_agent": "AUD",
      "expected_output_contains": ["segment", "behavioral", "customer"],
      "priority": "P0",
      "tags": ["routing", "aud"]
    },
    {
      "id": "ORC-003",
      "category": "routing_accuracy",
      "name": "Route to CHA - Channel Mix",
      "input": "Recommend a channel mix for our awareness campaign",
      "expected_flow": "RouteToSpecialist",
      "expected_target_agent": "CHA",
      "expected_output_contains": ["channel", "allocation", "awareness"],
      "priority": "P0",
      "tags": ["routing", "cha"]
    },
    {
      "id": "ORC-004",
      "category": "routing_accuracy",
      "name": "Route to SPO - Fee Analysis",
      "input": "Break down the fees in our programmatic supply chain",
      "expected_flow": "RouteToSpecialist",
      "expected_target_agent": "SPO",
      "expected_output_contains": ["fee", "programmatic", "supply"],
      "priority": "P0",
      "tags": ["routing", "spo"]
    },
    {
      "id": "ORC-005",
      "category": "routing_accuracy",
      "name": "Route to DOC - Document Generation",
      "input": "Generate the media plan document for stakeholder review",
      "expected_flow": "RouteToSpecialist",
      "expected_target_agent": "DOC",
      "expected_output_contains": ["document", "generate", "plan"],
      "priority": "P0",
      "tags": ["routing", "doc"]
    },
    {
      "id": "ORC-006",
      "category": "routing_accuracy",
      "name": "Route to PRF - Performance Analysis",
      "input": "Analyze why our conversion rates dropped 15% last week",
      "expected_flow": "RouteToSpecialist",
      "expected_target_agent": "PRF",
      "expected_output_contains": ["conversion", "analysis", "variance"],
      "priority": "P0",
      "tags": ["routing", "prf"]
    },
    {
      "id": "ORC-007",
      "category": "session_management",
      "name": "Initialize New Session",
      "input": "Start a new media planning session for Q2 campaign",
      "expected_flow": "GetSessionState",
      "expected_output_contains": ["session_id", "workflow_step", "pathway"],
      "priority": "P0",
      "tags": ["session", "initialization"]
    },
    {
      "id": "ORC-008",
      "category": "session_management",
      "name": "Get Current Session State",
      "input": "What step are we on in this planning process?",
      "expected_flow": "GetSessionState",
      "expected_output_contains": ["current_step", "workflow_gate", "progress"],
      "priority": "P0",
      "tags": ["session", "state"]
    },
    {
      "id": "ORC-009",
      "category": "session_management",
      "name": "Resume Previous Session",
      "input": "Continue where we left off yesterday",
      "expected_flow": "GetSessionState",
      "expected_output_contains": ["session_context", "last_activity", "pending_items"],
      "priority": "P1",
      "tags": ["session", "resume"]
    },
    {
      "id": "ORC-010",
      "category": "session_management",
      "name": "Session Context Preservation",
      "input": "Apply those budget numbers to the channel allocation we discussed",
      "expected_flow": "RouteToSpecialist",
      "expected_behavior": "ORC maintains context from previous interactions",
      "expected_output_contains": ["context_applied", "previous_data"],
      "priority": "P1",
      "tags": ["session", "context"]
    },
    {
      "id": "ORC-011",
      "category": "workflow_gates",
      "name": "Gate 1 - Foundation Check",
      "input": "Check if we're ready to proceed past the foundation gate",
      "expected_flow": "UpdateProgress",
      "expected_output_contains": ["gate_status", "requirements", "missing_items"],
      "priority": "P0",
      "tags": ["gate", "validation"]
    },
    {
      "id": "ORC-012",
      "category": "workflow_gates",
      "name": "Gate 2 - Strategy Check",
      "input": "Validate our strategy decisions before channel planning",
      "expected_flow": "UpdateProgress",
      "expected_output_contains": ["strategy_complete", "audience_defined", "objectives_set"],
      "priority": "P0",
      "tags": ["gate", "strategy"]
    },
    {
      "id": "ORC-013",
      "category": "workflow_gates",
      "name": "Gate 3 - Execution Check",
      "input": "Are we ready to move to the execution phase?",
      "expected_flow": "UpdateProgress",
      "expected_output_contains": ["channels_selected", "budget_allocated", "partners_identified"],
      "priority": "P1",
      "tags": ["gate", "execution"]
    },
    {
      "id": "ORC-014",
      "category": "workflow_gates",
      "name": "Gate 4 - Delivery Check",
      "input": "Check if all requirements are met for final delivery",
      "expected_flow": "UpdateProgress",
      "expected_output_contains": ["measurement_plan", "optimization_rules", "delivery_ready"],
      "priority": "P1",
      "tags": ["gate", "delivery"]
    },
    {
      "id": "ORC-015",
      "category": "synthesis",
      "name": "Multi-Agent Response Synthesis",
      "input": "Summarize the analysis from ANL, CHA, and AUD for this campaign",
      "expected_flow": "RouteToSpecialist",
      "expected_behavior": "ORC synthesizes responses from multiple specialists",
      "expected_output_contains": ["combined_analysis", "recommendations", "next_steps"],
      "priority": "P0",
      "tags": ["synthesis", "multi-agent"]
    },
    {
      "id": "ORC-016",
      "category": "synthesis",
      "name": "Conflicting Recommendation Resolution",
      "input": "ANL suggests more budget for Search but CHA recommends Social. Resolve this.",
      "expected_flow": "RouteToSpecialist",
      "expected_behavior": "ORC resolves conflicts with data-driven rationale",
      "expected_output_contains": ["resolution", "rationale", "trade_offs"],
      "priority": "P1",
      "tags": ["synthesis", "conflict"]
    },
    {
      "id": "ORC-017",
      "category": "synthesis",
      "name": "Executive Summary Generation",
      "input": "Create an executive summary of our media planning decisions",
      "expected_flow": "RouteToSpecialist",
      "expected_target_agent": "DOC",
      "expected_output_contains": ["summary", "key_decisions", "rationale"],
      "priority": "P1",
      "tags": ["synthesis", "summary"]
    },
    {
      "id": "ORC-018",
      "category": "error_handling",
      "name": "Ambiguous Request Handling",
      "input": "Help me with my marketing",
      "expected_flow": "RouteToSpecialist",
      "expected_behavior": "ORC asks clarifying questions",
      "expected_output_contains": ["clarification", "options", "questions"],
      "priority": "P0",
      "tags": ["error", "ambiguous"]
    },
    {
      "id": "ORC-019",
      "category": "error_handling",
      "name": "Missing Context Handling",
      "input": "Allocate the budget across channels",
      "expected_flow": "RouteToSpecialist",
      "expected_behavior": "ORC identifies missing budget information",
      "expected_output_contains": ["missing_information", "required_inputs"],
      "priority": "P1",
      "tags": ["error", "missing-context"]
    },
    {
      "id": "ORC-020",
      "category": "error_handling",
      "name": "Out of Scope Request",
      "input": "Book a flight to New York for the client meeting",
      "expected_flow": "RouteToSpecialist",
      "expected_behavior": "ORC politely declines and redirects to media planning",
      "expected_output_contains": ["out_of_scope", "redirect", "media_planning"],
      "priority": "P1",
      "tags": ["error", "out-of-scope"]
    }
  ],
  "execution_instructions": {
    "environment": "Copilot Studio test environment",
    "prerequisites": [
      "ORC agent deployed as primary",
      "All specialist agents connected",
      "Session management flows active"
    ],
    "pass_criteria": {
      "P0_tests": "100% pass required",
      "P1_tests": "90% pass required"
    },
    "metrics_to_capture": [
      "Response time (ms)",
      "Correct routing (Y/N)",
      "Correct agent identified (Y/N)",
      "Context preservation accuracy (1-5)",
      "Synthesis quality (1-5)"
    ]
  }
}
