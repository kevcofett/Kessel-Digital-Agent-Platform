{
  "version": "1.0.0",
  "description": "Capability tests for ANL (Analytics & Forecasting) Agent",
  "created": "2026-01-19",
  "agent": {
    "code": "ANL",
    "name": "Analytics & Forecasting",
    "capabilities": ["budget_projection", "scenario_modeling", "statistical_validation", "ltv_calculation", "incrementality_analysis"]
  },
  "total_tests": 15,
  "categories": {
    "projections": 4,
    "scenarios": 4,
    "calculations": 4,
    "integration": 3
  },
  "tests": [
    {
      "id": "ANL-001",
      "category": "projections",
      "name": "Basic Budget Projection",
      "input": "Project results for a $500K media budget over 12 weeks",
      "expected_flow": "CalculateProjection",
      "expected_output_contains": ["impressions", "reach", "frequency", "conversions", "confidence_interval"],
      "priority": "P0",
      "tags": ["projection", "budget"]
    },
    {
      "id": "ANL-002",
      "category": "projections",
      "name": "Multi-Channel Projection",
      "input": "Project reach and frequency across Search, Social, and Display channels",
      "expected_flow": "CalculateProjection",
      "expected_output_contains": ["channel_breakdown", "cross_channel_reach", "deduplicated_frequency"],
      "priority": "P0",
      "tags": ["projection", "multi-channel"]
    },
    {
      "id": "ANL-003",
      "category": "projections",
      "name": "Conversion Projection with Funnel",
      "input": "Project conversions through awareness to purchase funnel",
      "expected_flow": "CalculateProjection",
      "expected_output_contains": ["funnel_stages", "conversion_rates", "drop_off_points"],
      "priority": "P1",
      "tags": ["projection", "funnel"]
    },
    {
      "id": "ANL-004",
      "category": "projections",
      "name": "Projection with Confidence Intervals",
      "input": "Provide pessimistic, base, and optimistic projections for $1M budget",
      "expected_flow": "CalculateProjection",
      "expected_output_contains": ["p10_scenario", "p50_scenario", "p90_scenario", "confidence_level"],
      "priority": "P0",
      "tags": ["projection", "confidence"]
    },
    {
      "id": "ANL-005",
      "category": "scenarios",
      "name": "Budget Scenario Comparison",
      "input": "Compare outcomes for $300K vs $500K vs $750K budgets",
      "expected_flow": "RunScenario",
      "expected_output_contains": ["scenario_comparison", "incremental_value", "efficiency_curve"],
      "priority": "P0",
      "tags": ["scenario", "budget"]
    },
    {
      "id": "ANL-006",
      "category": "scenarios",
      "name": "Channel Mix Scenario",
      "input": "Compare 60/40 Search/Social vs 40/60 allocation scenarios",
      "expected_flow": "RunScenario",
      "expected_output_contains": ["mix_comparison", "outcome_delta", "recommendation"],
      "priority": "P0",
      "tags": ["scenario", "channel-mix"]
    },
    {
      "id": "ANL-007",
      "category": "scenarios",
      "name": "Timeline Scenario",
      "input": "Compare 8-week sprint vs 12-week sustained campaign",
      "expected_flow": "RunScenario",
      "expected_output_contains": ["timeline_comparison", "pacing_impact", "saturation_analysis"],
      "priority": "P1",
      "tags": ["scenario", "timeline"]
    },
    {
      "id": "ANL-008",
      "category": "scenarios",
      "name": "Sensitivity Analysis",
      "input": "What happens if CPMs increase 20% from our assumptions?",
      "expected_flow": "RunScenario",
      "expected_output_contains": ["sensitivity_result", "impact_assessment", "mitigation_options"],
      "priority": "P1",
      "tags": ["scenario", "sensitivity"]
    },
    {
      "id": "ANL-009",
      "category": "calculations",
      "name": "LTV Calculation",
      "input": "Calculate customer lifetime value for our top segment",
      "expected_flow": "CalculateProjection",
      "expected_output_contains": ["ltv", "ltv_cac_ratio", "payback_period"],
      "priority": "P0",
      "tags": ["calculation", "ltv"]
    },
    {
      "id": "ANL-010",
      "category": "calculations",
      "name": "Incrementality Estimate",
      "input": "Estimate incremental lift from our paid media investment",
      "expected_flow": "CalculateProjection",
      "expected_output_contains": ["incremental_lift", "baseline_organic", "media_contribution"],
      "priority": "P0",
      "tags": ["calculation", "incrementality"]
    },
    {
      "id": "ANL-011",
      "category": "calculations",
      "name": "ROAS Projection",
      "input": "Project ROAS for our e-commerce campaign",
      "expected_flow": "CalculateProjection",
      "expected_output_contains": ["projected_roas", "revenue_estimate", "cost_basis"],
      "priority": "P1",
      "tags": ["calculation", "roas"]
    },
    {
      "id": "ANL-012",
      "category": "calculations",
      "name": "Diminishing Returns Analysis",
      "input": "At what budget level do we hit diminishing returns?",
      "expected_flow": "CalculateProjection",
      "expected_output_contains": ["inflection_point", "efficiency_curve", "optimal_budget"],
      "priority": "P1",
      "tags": ["calculation", "diminishing-returns"]
    },
    {
      "id": "ANL-013",
      "category": "integration",
      "name": "ANL to CHA Handoff",
      "input": "Based on these projections, recommend channel allocation",
      "expected_flow": "CalculateProjection",
      "expected_behavior": "ANL provides projections, handoff to CHA for allocation",
      "secondary_agent": "CHA",
      "priority": "P0",
      "tags": ["integration", "handoff"]
    },
    {
      "id": "ANL-014",
      "category": "integration",
      "name": "ANL to PRF Comparison",
      "input": "Compare our projections to actual performance data",
      "expected_flow": "CalculateProjection",
      "expected_behavior": "ANL retrieves projections, PRF provides actuals",
      "secondary_agent": "PRF",
      "priority": "P1",
      "tags": ["integration", "comparison"]
    },
    {
      "id": "ANL-015",
      "category": "integration",
      "name": "Full Projection Suite",
      "input": "Run complete projection analysis: budget scenarios, channel mix, and timeline",
      "expected_flow": "RunScenario",
      "expected_output_contains": ["comprehensive_analysis", "recommendations", "confidence_levels"],
      "priority": "P1",
      "tags": ["integration", "comprehensive"]
    }
  ],
  "execution_instructions": {
    "environment": "Copilot Studio test environment",
    "prerequisites": [
      "ANL agent deployed",
      "CalculateProjection and RunScenario flows connected",
      "Benchmark data seeded"
    ],
    "pass_criteria": {
      "P0_tests": "100% pass required",
      "P1_tests": "90% pass required"
    },
    "metrics_to_capture": [
      "Response time (ms)",
      "Calculation accuracy vs benchmarks",
      "Confidence interval validity",
      "Output completeness (1-5)"
    ]
  }
}
