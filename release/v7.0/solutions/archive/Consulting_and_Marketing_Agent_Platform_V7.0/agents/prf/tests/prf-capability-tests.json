{
  "version": "1.0.0",
  "description": "Capability tests for PRF (Performance Intelligence) Agent",
  "created": "2026-01-19",
  "agent": {
    "code": "PRF",
    "name": "Performance Intelligence",
    "capabilities": ["variance_analysis", "anomaly_detection", "learning_extraction", "optimization_recommendation", "attribution_analysis"]
  },
  "total_tests": 15,
  "categories": {
    "performance_analysis": 4,
    "anomaly_detection": 4,
    "learnings": 4,
    "integration": 3
  },
  "tests": [
    {
      "id": "PRF-001",
      "category": "performance_analysis",
      "name": "KPI Variance Analysis",
      "input": "Analyze why our CPA increased 25% last week",
      "expected_flow": "AnalyzePerformance",
      "expected_output_contains": ["variance_breakdown", "contributing_factors", "severity_assessment"],
      "priority": "P0",
      "tags": ["analysis", "variance"]
    },
    {
      "id": "PRF-002",
      "category": "performance_analysis",
      "name": "Campaign Performance Review",
      "input": "Review performance of our Q1 brand campaign",
      "expected_flow": "AnalyzePerformance",
      "expected_output_contains": ["kpi_summary", "goal_attainment", "channel_performance"],
      "priority": "P0",
      "tags": ["analysis", "campaign"]
    },
    {
      "id": "PRF-003",
      "category": "performance_analysis",
      "name": "Channel Performance Comparison",
      "input": "Compare performance across Search, Social, and Display",
      "expected_flow": "AnalyzePerformance",
      "expected_output_contains": ["channel_comparison", "efficiency_ranking", "recommendations"],
      "priority": "P1",
      "tags": ["analysis", "channel"]
    },
    {
      "id": "PRF-004",
      "category": "performance_analysis",
      "name": "Benchmark Performance Assessment",
      "input": "How does our performance compare to industry benchmarks?",
      "expected_flow": "AnalyzePerformance",
      "expected_output_contains": ["benchmark_comparison", "percentile_rank", "gap_analysis"],
      "priority": "P1",
      "tags": ["analysis", "benchmark"]
    },
    {
      "id": "PRF-005",
      "category": "anomaly_detection",
      "name": "Spend Anomaly Detection",
      "input": "Detect any unusual spending patterns in the last 7 days",
      "expected_flow": "DetectAnomalies",
      "expected_output_contains": ["anomalies_detected", "severity", "affected_campaigns"],
      "priority": "P0",
      "tags": ["anomaly", "spend"]
    },
    {
      "id": "PRF-006",
      "category": "anomaly_detection",
      "name": "Performance Drop Alert",
      "input": "Alert me to any significant performance drops",
      "expected_flow": "DetectAnomalies",
      "expected_output_contains": ["alerts", "drop_magnitude", "potential_causes"],
      "priority": "P0",
      "tags": ["anomaly", "alert"]
    },
    {
      "id": "PRF-007",
      "category": "anomaly_detection",
      "name": "Fraud Detection Signals",
      "input": "Check for potential fraud signals in our traffic",
      "expected_flow": "DetectAnomalies",
      "expected_output_contains": ["fraud_indicators", "risk_score", "affected_sources"],
      "priority": "P1",
      "tags": ["anomaly", "fraud"]
    },
    {
      "id": "PRF-008",
      "category": "anomaly_detection",
      "name": "Positive Anomaly Identification",
      "input": "Identify any unexpectedly positive performance patterns",
      "expected_flow": "DetectAnomalies",
      "expected_output_contains": ["positive_anomalies", "success_factors", "scale_opportunities"],
      "priority": "P1",
      "tags": ["anomaly", "positive"]
    },
    {
      "id": "PRF-009",
      "category": "learnings",
      "name": "Campaign Learning Extraction",
      "input": "What key learnings can we extract from the Q1 campaign?",
      "expected_flow": "ExtractLearnings",
      "expected_output_contains": ["key_learnings", "success_factors", "improvement_areas"],
      "priority": "P0",
      "tags": ["learning", "campaign"]
    },
    {
      "id": "PRF-010",
      "category": "learnings",
      "name": "Creative Performance Insights",
      "input": "Extract insights on creative performance patterns",
      "expected_flow": "ExtractLearnings",
      "expected_output_contains": ["creative_insights", "top_performers", "optimization_recommendations"],
      "priority": "P0",
      "tags": ["learning", "creative"]
    },
    {
      "id": "PRF-011",
      "category": "learnings",
      "name": "Audience Learning Synthesis",
      "input": "Synthesize learnings about our audience segments",
      "expected_flow": "ExtractLearnings",
      "expected_output_contains": ["audience_insights", "segment_performance", "targeting_recommendations"],
      "priority": "P1",
      "tags": ["learning", "audience"]
    },
    {
      "id": "PRF-012",
      "category": "learnings",
      "name": "Optimization Playbook Generation",
      "input": "Generate an optimization playbook based on past learnings",
      "expected_flow": "ExtractLearnings",
      "expected_output_contains": ["optimization_rules", "best_practices", "thresholds"],
      "priority": "P1",
      "tags": ["learning", "playbook"]
    },
    {
      "id": "PRF-013",
      "category": "integration",
      "name": "PRF to CHA Handoff",
      "input": "Based on performance, recommend channel reallocation",
      "expected_flow": "AnalyzePerformance",
      "expected_behavior": "PRF identifies underperformers, CHA reallocates",
      "secondary_agent": "CHA",
      "priority": "P0",
      "tags": ["integration", "handoff"]
    },
    {
      "id": "PRF-014",
      "category": "integration",
      "name": "PRF to ANL Handoff",
      "input": "Update projections based on actual performance data",
      "expected_flow": "AnalyzePerformance",
      "expected_behavior": "PRF provides actuals, ANL updates forecasts",
      "secondary_agent": "ANL",
      "priority": "P1",
      "tags": ["integration", "handoff"]
    },
    {
      "id": "PRF-015",
      "category": "integration",
      "name": "Full Performance Intelligence Suite",
      "input": "Complete performance analysis: variance, anomalies, and learnings",
      "expected_flow": "AnalyzePerformance",
      "expected_output_contains": ["variance_analysis", "anomaly_report", "learnings_summary"],
      "secondary_flow": "DetectAnomalies",
      "tertiary_flow": "ExtractLearnings",
      "priority": "P1",
      "tags": ["integration", "comprehensive"]
    }
  ],
  "execution_instructions": {
    "environment": "Copilot Studio test environment",
    "prerequisites": [
      "PRF agent deployed",
      "All 3 PRF flows connected",
      "Historical performance data available"
    ],
    "pass_criteria": {
      "P0_tests": "100% pass required",
      "P1_tests": "90% pass required"
    },
    "metrics_to_capture": [
      "Response time (ms)",
      "Analysis accuracy (1-5)",
      "Anomaly detection precision",
      "Learning quality (1-5)"
    ]
  }
}
