EAP_GROWTH_SESSIONS TABLE SCHEMA
=================================
Version: 7.0.0
Purpose: Store growth strategy session state for GHA (Growth Hacking Agent) workflows

TABLE DEFINITION
----------------

Table Name: eap_growth_sessions
Publisher Prefix: eap
Display Name: Growth Sessions
Description: Stores growth strategy session state for GHA workflows

PRIMARY KEY
-----------
eap_growth_sessionid (uniqueidentifier, NOT NULL)
  - Primary key, auto-generated GUID

CORE FIELDS
-----------
eap_name (nvarchar(200), NOT NULL)
  - Display name for the growth session
  - Auto-populated: "Growth Session - [date] - [user]"

eap_session_id (uniqueidentifier, NOT NULL)
  - Foreign key to eap_sessions table
  - Links growth session to main session

WORKFLOW STATE FIELDS
---------------------
eap_growth_workflow_step (int, NOT NULL, DEFAULT 1)
  - Current step in 8-step growth workflow
  - Valid values: 1-8
  - Step mapping:
    1 = Growth Context
    2 = North Star Definition
    3 = Lifecycle Analysis
    4 = Audience Strategy
    5 = Tactics Development
    6 = Channel Strategy
    7 = Projections
    8 = Growth Plan Documentation

eap_growth_workflow_gate (int, NOT NULL, DEFAULT 0)
  - Current gate in growth workflow
  - Valid values: 0-4
  - Gate mapping:
    0 = Pre-Foundation
    1 = Growth Foundation (Steps 1-2 complete)
    2 = Growth Strategy (Steps 3-4 complete)
    3 = Growth Tactics (Steps 5-7 complete)
    4 = Growth Plan Complete (Step 8 complete)

GROWTH CONTEXT FIELDS
---------------------
eap_north_star_metric (ntext, NULL)
  - JSON object containing North Star metric definition
  - Example: {"metric":"MAU","baseline":50000,"target":100000,"timeframe":"6 months"}

eap_priority_stages (ntext, NULL)
  - JSON array of priority AARRR lifecycle stages
  - Valid values: ["acquisition","activation","retention","referral","revenue"]
  - Example: ["activation","retention"]

eap_growth_plan_state (ntext, NULL, MAX 1MB)
  - JSON object containing full growth plan state
  - Contains nested objects:
    - business_model: Business model documentation
    - growth_stage: Growth stage assessment
    - lifecycle_analysis: AARRR funnel data
    - audience_segments: Growth segment definitions
    - tactics: Selected growth tactics
    - experiments: Experiment designs
    - channel_strategy: Channel recommendations
    - projections: ANL projections output
    - growth_plan_document: DOC generated document
    - handoff_context: Context for downstream work
    - specialist_outputs: Array of specialist call results

CLASSIFICATION FIELDS
---------------------
eap_business_model (optionset, NULL)
  - Business model type
  - Options:
    100000000 = SaaS
    100000001 = Marketplace
    100000002 = Fintech
    100000003 = E-commerce
    100000004 = Consumer App
    100000005 = B2B Services
    100000006 = Media/Content
    100000007 = Other

eap_growth_stage (optionset, NULL)
  - Current growth stage
  - Options:
    100000000 = Pre-Product-Market-Fit
    100000001 = Product-Market-Fit
    100000002 = Growth
    100000003 = Scale
    100000004 = Maturity

HANDOFF FIELDS
--------------
eap_handoff_status (optionset, NULL)
  - Status of handoff to downstream domains
  - Options:
    100000000 = Not Ready
    100000001 = Ready for Handoff
    100000002 = Handed off to MPA
    100000003 = Handed off to CA
    100000004 = Completed

METRICS FIELDS
--------------
eap_specialist_calls_count (int, NULL, DEFAULT 0)
  - Number of specialist agent calls made
  - Incremented each time GHA requests ANL/AUD/CHA/DOC via ORC

eap_last_updated_step (datetime, NULL)
  - Timestamp when workflow step was last updated

SYSTEM FIELDS
-------------
createdon (datetime, NOT NULL)
  - Record creation timestamp

modifiedon (datetime, NOT NULL)
  - Record modification timestamp

createdby (lookup, NOT NULL)
  - User who created the record

modifiedby (lookup, NOT NULL)
  - User who last modified the record

ownerid (lookup, NOT NULL)
  - Record owner

statecode (state, NOT NULL)
  - Record state (Active/Inactive)

statuscode (status, NOT NULL)
  - Record status reason

INDEXES
-------
- Primary Key: eap_growth_sessionid
- Foreign Key Index: eap_session_id
- Workflow Index: (eap_session_id, eap_growth_workflow_step)

RELATIONSHIPS
-------------
- Many-to-One: eap_growth_sessions -> eap_sessions (via eap_session_id)
- One-to-Many: eap_growth_sessions <- eap_routing_logs (via eap_session_id + source_agent='GHA')

USAGE NOTES
-----------
1. Create a new eap_growth_sessions record when GHA workflow begins
2. Update eap_growth_workflow_step and eap_growth_workflow_gate as user progresses
3. Store intermediate state in eap_growth_plan_state after each step
4. Update eap_handoff_status when growth plan is ready for MPA/CA handoff
5. Link specialist call results via eap_routing_logs with source_agent='GHA'

COPILOT STUDIO INTEGRATION
--------------------------
Store Global.GrowthSessionId in Copilot Studio to maintain reference.
Use GHA_GetGrowthState flow to retrieve state at conversation start.
Use GHA_UpdateGrowthProgress flow to update state after each step.
